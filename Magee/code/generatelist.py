import mathimport osdef run():    #Open both files    file1 = open("ER.txt","r")    ERE2 = file1.read()    file1.close()    file2 = open("hg18.bed","r")    hg18 = file2.read()    file2.close()        file3 = open("generatedFile.bed","wt")    file3.write(mainFunction(ERE2,hg18))        returndef eliminateSpace(text):    if (text == None):        return None    edited = ""    for i in xrange(len(text)):        if text[i]==text[i-1] and str.isspace(text[i])==True:            continue        edited+=text[i]    return editeddef mainFunction(ER_E2,HG_18):    newStr = ""    newStr+="Chromosome"    newStr+="\t"    newStr+="Start"    newStr+="\t"    newStr+="Stop"    newStr+="\t"    newStr+="Average"    newStr+="    "    newStr+="NM_number"    newStr+="\t"    newStr+="Distance"    newStr+="\n"#    c=0.0##    total=53768.0*41331.0    for line in ER_E2.splitlines():#        print "line",line#        print eliminateSpace(line)#        os.system('clear')##        print (c/total)*100,"% complete"        ERE2_line_split = line.split("\t")#        print "ERE2_line_split\n",ERE2_line_split#        print "average",ERE2_line_split[3]        chrom=ERE2_line_split[0]#        print chrom        average = ERE2_line_split[3]        average_LL = float(average)-50000#        print "average_LL",average_LL,"\n"        average_UL = float(average)+50000#        print "average_UL",average_UL,"\n"        newStr+="\n"        newStr+=ERE2_line_split[0]        newStr+="\t"        newStr+=ERE2_line_split[1]        newStr+="\t"        newStr+=ERE2_line_split[2]        newStr+="\t"        #        print "Entering second For loop"        for line2 in HG_18.splitlines():            hg18_split = line2.split("\t")#            print "entering if statement"#            print "strand",hg18_split[5]#            c=c+1            if (hg18_split[5]=="+" and hg18_split[0]==chrom):#                print "Entering if-if"#                print "average_UL",average_UL#                print "average_LL",average_LL#                print "first if:",hg18_split[1]                if (float(hg18_split[1])<average_UL and float(hg18_split[1])>average_LL):#                    print "ENTERING 1"#                    newStr+=ERE2_line_split[0]#                    newStr+="\t"#                    newStr+=ERE2_line_split[1]#                    newStr+="\t"#                    newStr+=ERE2_line_split[2]#                    newStr+="\t"#                    newStr+=ERE2_line_split[3]#                    newStr+="\t"                    newStr+=hg18_split[3]                    newStr+="\t"                    newStr+=str(float(hg18_split[1])-float(average))                    newStr+="\t"            #            print "entering else"        #            print "strand",hg18_split[5]            if (hg18_split[5]=="-" and hg18_split[0]==chrom): #                print "Entering if2-if2"#                print "average_UL",average_UL#                print "average_LL",average_LL                if (float(hg18_split[2])<average_UL and float(hg18_split[2])>average_LL):#                    print "ENTERING 2"#                    newStr+=ERE2_line_split[0]#                    newStr+="\t"#                    newStr+=ERE2_line_split[1]#                    newStr+="\t"#                    newStr+=ERE2_line_split[2]#                    newStr+="\t"##                    newStr+=ERE2_line_split[3]##                    newStr+="\t"                    newStr+=hg18_split[3]                    newStr+="\t"                    newStr+=str(float(hg18_split[2])-float(average))                    newStr+="\t"    return newStr                            run()